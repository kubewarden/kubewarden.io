<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Kubewarden 1.11 release</title><link rel=icon type=image/svg href=/favicon.svg><link rel=mask-icon href=/favicon.svg><link rel=stylesheet type=text/css href=/sass/blog.min.css?1740657252><script async defer src=https://buttons.github.io/buttons.js></script><script type=text/javascript src=//cdn.bizible.com/scripts/bizible.js async></script></head><body><header><div class=sub-header><a href><img src=/images/logo-kubewarden.svg alt=Kubewarden></a>
<a href=#main-menu id=main-menu-toggle class=menu-toggle aria-label="Open main menu"><span aria-hidden=true></span><span aria-hidden=true></span><span aria-hidden=true></span></a><nav id=main-menu class=main-menu aria-label="Main menu"><a href=#main-menu-toggle id=main-menu-close class=menu-close aria-label="Close main menu"><span class=sr-only>Close main menu</span>
<span class="fa fa-close" aria-hidden=true></span></a><h2 id=main-menu-heading class=sr-only>Main menu</h2><ul class=menu><li><a href="https://artifacthub.io/packages/search?kind=13&sort=relevance&page=1" target=_blank class="btn no-bg">Policies</a></li><li><a href=https://charts.kubewarden.io/ target=_blank class="btn no-bg">Helm Charts</a></li><li><a href=https://docs.kubewarden.io/ target=_blank class="btn no-bg">Docs</a></li><li><a href="https://kubernetes.slack.com/?redir=%2Fmessages%2Fkubewarden" target=_blank class="btn no-bg">Slack</a></li><li><a href=https://bsky.app/profile/kubewarden.io target=_blank class="btn no-bg">Bluesky</a></li><li><a href=https://hachyderm.io/@kubewarden rel=me target=_blank class="btn no-bg">Mastodon</a></li><li><a href=/#get-in-touch target=_blank class="btn no-bg">Community</a></li><li><a href=/blog target=_blank class="btn no-bg">Blog</a></li><li><a href=https://docs.kubewarden.io/enterprise target=_blank class="btn no-bg">Enterprise</a></li><li><a href=https://github.com/kubewarden class="btn github"><img src=/images/icon-github.svg><span>Github</span></a></li></ul></nav><a href=#main-menu-toggle class=backdrop tabindex=-1 aria-hidden=true hidden></a></div></header><link rel=stylesheet href=/css/blog.css><section class=intro><div class=bg-primary><div class="wrap grid-one"><div><h1 style=color:#fff><a href=/blog>The Kubewarden blog</a>
<a href=/blog/index.xml><img src=/images/icon-rss.svg class=fill-white height=20></a></h1></div></div></div></section><main><section class=wrap><article><h1>Kubewarden 1.11 release</h1><p>Author: <author>Flavio Castelli</author></p><p>Published: <time>21 Mar 2024</time></p><p>Updated: <time>27 Feb 2025</time></p><div id=blog-post-content><p>Today we&rsquo;re glad to announce the release of Kubewarden 1.11.</p><p>This release focuses on performance improvements, especially when running on big Kubernetes clusters.</p><h2 id=audit-scanner>Audit Scanner</h2><p>A lot of work has been done on the audit scanner. The auditing of resources is now done in parallel, which means less time is required on big clusters to scan all the available resources.</p><p>We&rsquo;ve also changed how we handle Policy Reports. Kubewarden is still using the Policy Report format being defined inside the Kubernetes&rsquo;s <code>wg-policy</code> group. However, prior to this release,
we used to create one <code>PolicyReport</code> per <code>Namespace</code> and one <code>ClusterPolicyReport</code> per cluster.
This solution proved to not scale inside clusters with many audited resources. Depending on the number of policies and audited resources, the size of the final report objects could be too big to fit into etcd.
Moreover, the amount of memory required by the audit scanner could be significant.</p><p>That&rsquo;s why, starting from Kubewarden 1.11, the audit scanner creates one <code>PolicyReport</code> per namespaced resource and one <code>ClusterPolicyReport</code> per cluster-wide resource being scanned.
That ensures the reports can always fit etcd&rsquo;s size requirement. On top of that, now the audit scanner process always consumes the same amount of memory, regardless of the number of
policies and resources being audited.</p><p>Getting the auditing results of the resources defined inside a namespace can be done in this way:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>kubectl get polr -o wide

NAME                                   KIND         NAME                        PASS   FAIL   WARN   ERROR   SKIP   AGE
009805e4-6e16-4b70-80c9-cb33b6734c82   Deployment   deployment1                 5      1      0      0       0      1h
011e8ca7-40d5-4e76-8c89-6f820e24f895   Deployment   deployment2                 2      4      0      0       0      1h
02c28ab7-e332-47a2-9cc2-fe0fad5cd9ad   Pod          pod1                        10     0      0      0       0      1h
04937b2b-e68b-47d5-909d-d0ae75527f07   Pod          pod2                        9      1      0      0       0      1h
...

</code></pre></div><p>While the auditing results of cluster-wide resources can be obtained in this way:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>kubectl get cpolr -o wide

NAME                                   KIND        NAME                 PASS   FAIL   WARN   ERROR   SKIP   AGE
261c9492-deec-4a09-8aa9-cd464bb4b8d1   Namespace   namespace1           3      1     0       0       0      1h
35ca342f-685b-4162-a342-8d7a52a61749   Namespace   namespace2           0      4     0       0       0      1h
3a8f8a88-338b-4905-b9e4-f13397a0d7b5   Namespace   namespace3           4      0     0       0       0      15h
</code></pre></div><p>Take a look at <a href=https://docs.kubewarden.io/explanations/audit-scanner/policy-reports>the official documentation</a> to learn more about policy reports.</p><h2 id=new-host-capability-available>New host capability available</h2><p>Kubewarden provides a set of <a href=https://docs.kubewarden.io/reference/spec/host-capabilities/intro-host-capabilities>host capabilities</a> that allow
policy authors to access external data during policy evaluation.</p><p>Kubewarden 1.11 expands the operations that can be done against a container registry by making it possible to fetch OCI manifests.
This addition was requested by our community as a way to write policies that make use of the platform and architecture information found inside the OCI manifest to make mutations.</p><p>The Kubewarden SDKs have been updated to expose this new functionality. We will also publish a dedicated blog post explaining what policy authors can achieve with this new capability.</p><h2 id=context-aware-policies-optimization>Context aware policies optimization</h2><p>As part of our host capabilities, Kubewarden provides a way to query the Kubernetes API server. This is used to create <a href=https://docs.kubewarden.io/next/reference/spec/context-aware-policies>context aware policies</a>.
These are policies that use information about the state of Kubernetes cluster to make validating/mutating decisions.</p><p>Starting from the 1.11 release, Kubewarden uses a different way to fetch information from the Kubernetes API server and keep this data up to date. That brings two major improvements.
Firstly, the load on the Kubernetes API server is reduced. Secondly, the information shared with the policies is significantly fresher than before. That means changes done inside Kubernetes are propagated faster to
the policies.</p><h2 id=reduce-latency-of-policies-that-make-use-of-host-capabilities>Reduce latency of policies that make use of host capabilities</h2><p>Thanks to a report coming from our community, we learnt that policies making use of host capabilities had too much latency when ran on big clusters.</p><p>We started an <a href=https://github.com/kubewarden/policy-server/issues/692>investigation</a> that led to several performance improvements that are now part of the Kubewarden 1.11 release.</p><p>Traditional Kubernetes policies (the ones written using Rust and Go) got a 81% performance boost. Rego policies got a 27% performance improvement.
We also have more optimization for Gatekeeper policies inside of our future pipeline, these changes will bring an extra 55% boost.</p><h2 id=known-bugs>Known bugs</h2><p>Since the TUF spec v1.0.32 (released 2023-03-02), there is an incomaptibility
when defining ECDSA keys. This means that signature verification in <code>kwctl</code> and
<code>policy-server</code> will fail-closed, meaning that even if images are correctly
signed, Kubewarden will fail the image verification and report &ldquo;Image
verification failed: missing signatures&rdquo;.</p><p>The change done inside of Sigstore&rsquo;s TUF repository broke the <code>sigstore-rs</code> rust library used by Kubewarden, causing also previous versions of Kubewarden to exhibit this behavior.</p><p>The issue is currently being worked upstream, we will issue patch releases as soon as possible.</p><h2 id=stay-tuned>Stay tuned!</h2><p>As always, we are curious about what features you would like next and how you are
enjoying Kubewarden. Reach out on <a href="https://kubernetes.slack.com/?redir=%2Fmessages%2Fkubewarden">Slack</a>
or join our <a href="https://teamup.com/ks2bj74dvw132mhjtj?view=a&showProfileAndInfo=0&showSidepanel=1&disableSidepanel=1&showMenu=1&showAgendaHeader=1&showAgendaDetails=0&showYearViewHeader=1">monthly community meeting</a>
to talk Kubewarden!</p></div><div><ul id=tags></ul></div><div></div></article></section></main><footer><p>&copy; 2025 Kubewarden Project Authors. All rights reserved.
The Linux Foundation has registered trademarks and uses trademarks.
For a list of trademarks of The Linux Foundation, please see our Trademark Usage page:
<a href=https://www.linuxfoundation.org/trademark-usage>https://www.linuxfoundation.org/trademark-usage</a></p></footer><script async src="https://www.googletagmanager.com/gtag/js?id=G-PSW07XK7TM"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-PSW07XK7TM',{anonymize_ip:!0})}</script></body></html>